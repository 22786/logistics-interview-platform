<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1209329 Business Creation for Logistics and SCM</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; padding: 20px; background-color: #f4f7f6; max-width: 900px; margin: auto; }
        .container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h2 { color: #004494; text-align: center; }
        .instruction-box { 
            background-color: #f0f7ff; 
            border-left: 6px solid #0056b3; 
            padding: 20px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏° padding */
            margin-bottom: 25px; 
            font-size: 0.95em; /* ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô */
            line-height: 1.5; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î */
        }        
        textarea { width: 100%; height: 70px; padding: 10px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; margin-top: 10px; font-size: 14px; resize: vertical; }                    .student-info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        .student-info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        input, select, textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; }
        #chat-box { border: 1px solid #eee; height: 350px; overflow-y: auto; padding: 15px; margin: 20px 0; background: #fafafa; border-radius: 8px; }
        .msg-line { margin-bottom: 10px; }
        .student-tag { color: #0056b3; font-weight: bold; }
        .persona-tag { color: #2e7d32; font-weight: bold; }
        .system-tag { color: #d32f2f; font-weight: bold; }
        button { background: #004494; color: white; border: none; padding: 12px 25px; border-radius: 6px; cursor: pointer; width: 100%; font-size: 16px; }
        button:hover { background: #003366; }
    </style>
</head>
<body>

<div class="container">
    <h2>Logistics Workshop: Customer Discovery</h2>
    
    <div class="instruction-box">
        <h4 style="margin-top: 0; color: #0056b3; border-bottom: 1px solid #b3d7ff; padding-bottom: 8px;">
            üìå Workshop Instructions / ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡πÄ‡∏ß‡∏¥‡∏£‡πå‡∏Å‡∏ä‡∏≠‡∏õ
        </h4>
        
        <p>
            <b>1. Empathy First / ‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à:</b><br>
            <span style="color: #444;">Focus on understanding the persona's daily pain points. Do not pitch your solution yet.</span><br>
            <i>‡πÄ‡∏ô‡πâ‡∏ô‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏≤‡πÄ‡∏à‡∏≠‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏ô ‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏£‡∏µ‡∏ö‡πÄ‡∏™‡∏ô‡∏≠‡∏Ç‡∏≤‡∏¢‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</i>
        </p>
        
        <p>
            <b>2. Ask "Why" (5 Whys Technique) / ‡∏ñ‡∏≤‡∏° "‡∏ó‡∏≥‡πÑ‡∏°" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏ï‡πâ‡∏ô‡∏ï‡∏≠:</b><br>
            <span style="color: #444;">Dig deep into the root cause of their problems by asking follow-up questions.</span><br>
            <i>‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏ñ‡∏≤‡∏°‡πÄ‡∏à‡∏≤‡∏∞‡∏•‡∏∂‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏ï‡πâ‡∏ô‡∏ï‡∏≠‡∏Ç‡∏≠‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏≠‡∏¢‡πà‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö</i>
        </p>
        
        <p>
            <b>3. Identify Existing Alternatives / ‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:</b><br>
            <span style="color: #444;">Ask how they currently solve these problems and what tools they use.</span><br>
            <i>‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡∏ß‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÄ‡∏Ç‡∏≤‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡∏π‡πà ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î</i>
        </p>

        <p>
            <b>4. Practice English Communication / ‡∏ù‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©:</b><br>
            <span style="color: #444;">Conduct the interview in English to simulate a global business environment.</span><br>
            <i>‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏©‡∏ì‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ù‡∏∂‡∏Å‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÉ‡∏ô‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏≤‡∏Å‡∏•</i>
        </p>

        <div style="margin-top: 10px; font-style: italic; color: #d32f2f; font-size: 0.85em;">
            *Goal: Collect data for your Lean Canvas (Problem, Customer Segment, and Alternatives).<br>
            *‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏ô Lean Canvas (‡∏™‡πà‡∏ß‡∏ô Problem, Customer Segment ‡πÅ‡∏•‡∏∞ Existing Alternatives)
        </div>
    </div>

    <div class="student-info-grid">
        <input type="text" id="studentName" placeholder="Full Name (‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•)">
        <input type="text" id="studentId" placeholder="Student ID (‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤)">
    </div>

    <div style="margin-bottom: 15px;">
        <label><b>Target Interviewee:</b></label>
        <select id="role" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="trump_import">Trump - Import Issues (Easy)</option>
            <option value="musk_3pl">Musk - Truck Maintenance (Easy)</option>
    
            <option value="peggy_coord">Peggy - Transport Coord (Medium)</option>
            <option value="steve_maersk">Steve - Shipping CS (Medium)</option>
        </select>
    </div>

    <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; border: 1px solid #90caf9; margin-bottom: 15px;">
        <label><b>üîë Groq API Key:</b></label>
        <input type="password" id="apiKeyInput" placeholder="gsk_xxxxxxxxxxxx">
    </div>

    <div id="chat-box">
        <div class="msg-line"><span class="system-tag">System:</span> Welcome! Please enter your details and API Key to start the interview.</div>
    </div>

    <textarea id="userInput" placeholder="Type your question in English..."></textarea>
    <button onclick="sendMessage()" id="sendBtn">Send / ‡∏™‡πà‡∏á</button>
</div>

<script>
    // 1. ‡∏õ‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô
    function appendMessage(senderName, text, tagClass) {
        const chatBox = document.getElementById('chat-box');
        const div = document.createElement('div');
        div.className = 'msg-line';
        
        // ‡πÉ‡∏ä‡πâ tagClass ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤ (student-tag ‡∏´‡∏£‡∏∑‡∏≠ persona-tag)
        div.innerHTML = `<span class="${tagClass}">${senderName}:</span> ${text}`;
        chatBox.appendChild(div);
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    async function sendMessage() {
        const inputField = document.getElementById('userInput');
        const message = inputField.value.trim();
        const apiKey = document.getElementById('apiKeyInput').value.trim();
        
        // ‡∏î‡∏∂‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ Student)
        const studentName = document.getElementById('studentName').value.trim() || "Student";
        const studentId = document.getElementById('studentId').value.trim();
        
        // ‡∏î‡∏∂‡∏á‡∏ä‡∏∑‡πà‡∏≠ Persona ‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏¢‡∏π‡πà (Text ‡πÉ‡∏ô <option>)
        const roleSelect = document.getElementById('role');
        const personaDisplayName = roleSelect.options[roleSelect.selectedIndex].text;
        const roleValue = roleSelect.value;

        if (!apiKey) { alert("Please enter API Key!"); return; }
        if (!studentName || !studentId) { alert("Please enter your Name and ID!"); return; }
        if (!message) return;

        // --- ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ 'You' ---
        appendMessage(studentName, message, 'student-tag');
        inputField.value = '';
        
        const loadingDiv = document.createElement('div');
        loadingDiv.id = 'loading';
        loadingDiv.innerHTML = `<i>${personaDisplayName} is thinking...</i>`;
        document.getElementById('chat-box').appendChild(loadingDiv);

        try {
            const response = await fetch('/chat', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ 
                    message, 
                    role: roleValue, 
                    studentName, 
                    studentId, 
                    apiKey 
                })
            });

            const data = await response.json();
            if(document.getElementById('loading')) document.getElementById('loading').remove();

            if (response.ok) {
                // --- ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ 'AI' ---
                appendMessage(personaDisplayName, data.text, 'persona-tag');
            } else {
                appendMessage('System', data.text, 'system-tag');
            }
        } catch (error) {
            if(document.getElementById('loading')) document.getElementById('loading').remove();
            appendMessage('System', '‚ùå Connection Error.', 'system-tag');
        }
    }

    



    // ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏î Enter
    document.getElementById('userInput').addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            sendMessage();
        }
    });
</script>
</body>
</html>